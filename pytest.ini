[pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Paralelización por defecto (62% más rápido: 125s → 47s)
# Usa todos los cores disponibles automáticamente
addopts = -n auto

markers =
    integration: marca los tests como tests de integración que requieren BD.

filterwarnings =
    # Suprimir warnings de httpx sobre cookies per-request (temporalmente hasta migrar)
    ignore::DeprecationWarning:httpx._client
    # Suprimir warning de Pydantic sobre alias
    ignore::pydantic.warnings.PydanticDeprecatedSince20